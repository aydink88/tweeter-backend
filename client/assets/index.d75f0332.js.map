{"version":3,"file":"index.d75f0332.js","sources":["../../src/components/Explore/ExplorePeople.tsx","../../src/components/Explore/ExploreTweets.tsx","../../src/components/Explore/index.tsx"],"sourcesContent":["import BaseCard from 'components/common/BaseCard'\nimport Paginate from 'components/common/Paginate'\nimport Spinner from 'components/common/Spinner'\nimport { defaultAvatar } from 'config'\nimport { useQuerySearchPeople } from 'hooks/fetchQueries'\nimport type { Dispatch, SetStateAction } from 'react'\nimport { useMutation, useQueryClient } from 'react-query'\nimport { Link } from 'react-router-dom'\nimport { followProfileOf } from 'services/fetch'\n\nexport default function ExplorePeople({\n  searchTerm,\n  page,\n  setPage\n}: {\n  searchTerm: string\n  page: number\n  setPage: Dispatch<SetStateAction<number>>\n}) {\n  const { isLoading, isError, data, isPreviousData, isFetching } = useQuerySearchPeople({\n    searchTerm,\n    page\n  })\n\n  const queryClient = useQueryClient()\n  const followMutation = useMutation(followProfileOf)\n\n  const clickFollow = (handle: string) => {\n    followMutation.mutate(handle, {\n      onSuccess: () => queryClient.invalidateQueries('searchPeople')\n    })\n  }\n\n  if (isLoading || isFetching) return <Spinner />\n\n  if (isError) return <h1>Data fetching failed</h1>\n\n  return (\n    <>\n      {data?.people.length ? (\n        <Paginate isPreviousData={isPreviousData} page={page} setPage={setPage}>\n          <BaseCard title=\"Found Profiles\">\n            {data.people.map((listMember) => (\n              <div key={listMember.id}>\n                <div className=\"flex items-center mb-4\">\n                  <div className=\"basis-1/4 follow-list-user\">\n                    <div className=\"flex follow-list-info\">\n                      <div className=\"p-2 w-20 h-20 avatar follow-list-avatar\">\n                        <img\n                          className=\"mask mask-squircle\"\n                          src={listMember.avatar || defaultAvatar}\n                          alt={listMember.name}\n                        />\n                      </div>\n                      <div>\n                        <Link to={`/profile/${listMember.handle}`}>\n                          <h2 className=\"font-medium custom-title follow-list-name\">\n                            {listMember.name}\n                          </h2>\n                        </Link>\n                        <div className=\"text-sm text-base-content/70 follow-list-count\">\n                          {listMember.followerCount || 0} {` followers`}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"basis-1/2 p-2 w-full text-sm text-align-center text-base-content/70 follow-list-bio\">\n                    {listMember.bio}\n                  </div>\n                  <div className=\"basis-1/4 ml-auto follow-list-button\">\n                    <button className=\"btn btn-info\" onClick={() => clickFollow(listMember.handle)}>\n                      Follow\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </BaseCard>\n        </Paginate>\n      ) : (\n        <h1>No Content Found</h1>\n      )}\n    </>\n  )\n}\n","import Paginate from 'components/common/Paginate'\nimport Timeline from 'components/tweet/Timeline'\nimport { useQuerySearchTweets } from 'hooks/fetchQueries'\nimport { type Dispatch, type SetStateAction } from 'react'\n\nexport default function ExploreTweets({\n  timelineOption,\n  searchTerm,\n  page,\n  setPage\n}: {\n  timelineOption: string\n  searchTerm: string\n  page: number\n  setPage: Dispatch<SetStateAction<number>>\n}) {\n  const { data, isLoading, isFetching, isPreviousData } = useQuerySearchTweets({\n    searchType: timelineOption,\n    searchTerm,\n    page\n  })\n\n  return (\n    <Paginate isPreviousData={isPreviousData} page={page} setPage={setPage}>\n      <Timeline loading={isLoading || isFetching} tweets={data?.tweets} />\n    </Paginate>\n  )\n}\n","import TimelineMenu from 'components/tweet/TimelineMenu'\nimport { useEffect, useRef, useState } from 'react'\nimport type { FormEventHandler } from 'react'\nimport type { TTimelineMenu, TTimelineOption } from 'types'\nimport ExplorePeople from './ExplorePeople'\nimport ExploreTweets from './ExploreTweets'\nimport PageLayout from 'components/common/PageLayout'\n\nfunction ExplorePage() {\n  const [timelineOption, setTimelineOption] = useState<TTimelineOption>('top')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [page, setPage] = useState(1)\n\n  const timelineOptions: TTimelineMenu = [\n    { text: 'Top', id: 'top' },\n    { text: 'Latest', id: 'latest' },\n    { text: 'People', id: 'people' },\n    { text: 'Media', id: 'media' }\n  ]\n\n  useEffect(() => {\n    setPage(1)\n  }, [timelineOption, searchTerm])\n\n  const searchInputRef = useRef<HTMLInputElement>(null)\n  useEffect(() => {\n    setSearchTerm(searchInputRef.current!.value)\n  }, [timelineOption])\n\n  const searchSubmit: FormEventHandler = (e) => {\n    e.preventDefault()\n    setSearchTerm(searchInputRef.current!.value)\n  }\n\n  return (\n    <PageLayout>\n      <PageLayout.Side>\n        <TimelineMenu\n          options={timelineOptions}\n          activeOption={timelineOption}\n          setActiveOption={setTimelineOption}\n        />\n      </PageLayout.Side>\n      <PageLayout.Main>\n        <div className=\"flex relative mb-4\">\n          <div className=\"absolute top-1/2 left-2 -translate-y-1/2\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"w-6 h-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n              />\n            </svg>\n          </div>\n          <form className=\"input-group\" onSubmit={searchSubmit}>\n            <input\n              ref={searchInputRef}\n              type=\"text\"\n              placeholder=\"Search\"\n              className=\"pl-8 w-full input input-bordered\"\n            />\n            <button className=\"btn btn-primary\" type=\"submit\">\n              Search\n            </button>\n          </form>\n        </div>\n        {timelineOption === 'people' ? (\n          <ExplorePeople page={page} setPage={setPage} searchTerm={searchTerm} />\n        ) : (\n          <ExploreTweets\n            page={page}\n            setPage={setPage}\n            searchTerm={searchTerm}\n            timelineOption={timelineOption}\n          />\n        )}\n      </PageLayout.Main>\n    </PageLayout>\n  )\n}\n\nexport default ExplorePage\n"],"names":["ExplorePeople","searchTerm","page","setPage","isLoading","isError","data","isPreviousData","isFetching","useQuerySearchPeople","queryClient","useQueryClient","followMutation","useMutation","followProfileOf","clickFollow","handle","mutate","onSuccess","invalidateQueries","_jsx","Spinner","_Fragment","people","length","Paginate","BaseCard","map","listMember","avatar","defaultAvatar","name","_jsxs","Link","followerCount","bio","id","ExploreTweets","timelineOption","useQuerySearchTweets","searchType","Timeline","tweets","ExplorePage","setTimelineOption","useState","setSearchTerm","timelineOptions","text","useEffect","searchInputRef","useRef","current","value","searchSubmit","e","preventDefault","PageLayout","TimelineMenu"],"mappings":"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"}